<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
<script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>try</title>
</head>
<body>
    <div class="font-mono">start time: <label id="outputDiv"></label></div>
            <div id="outputDiv2" class="font-mono"></div>
            <div id="outputDiv3" class="font-mono"></div>
            <py-config>
                [[fetch]]
                files = ["./test.py"]
              </py-config> 

              <py-script>
                from test import now
                import asyncio
  
                async def foo():
                  while True:
                    await asyncio.sleep(1)
                    output = now()
                    Element("outputDiv2").write(output)
  
                    out3 = Element("outputDiv3")
                    if output[-1] in ["0", "4", "8"]:
                      out3.write("It's espresso time!")
                    else:
                      out3.clear()
  
                pyscript.run_until_complete(foo())
              </py-script>
</body>
</html>